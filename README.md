# AI Workspace

**Ваш персональный AI агент на базе Claude Code с интеграцией Telegram**

Превратите свой сервер в мощного AI помощника — установка за 5 минут, расширение под любые задачи.

---

## Что это?

AI Workspace — это готовый к использованию AI агент на базе Claude Code с интеграцией Telegram бота. Общайтесь с Claude AI через Telegram, автоматизируйте задачи, генерируйте изображения, работайте с Excel файлами и расширяйте функционал собственными skills.

### Что вы получаете из коробки:

- **Telegram Бот** — общайтесь с Claude AI через Telegram
  - Поддержка текста, голосовых, фото, документов
  - Ответы в реальном времени с управлением сессиями
  - HTTP API для интеграций

- **5 Базовых Skills** — основные возможности для расширения агента:
  - **Excel (xlsx)** — создание, чтение, анализ таблиц с формулами
  - **Генерация изображений** — создание картинок с помощью AI (Gemini)
  - **Telegram уведомления** — отправка сообщений и файлов в Telegram
  - **Создание skills** — создавайте новые skills для любых задач
  - **MCP интеграция** — подключайте внешние сервисы и базы данных

---

## Быстрый старт

### Требования

- Linux сервер (Ubuntu 22.04+ / Debian 11+)
- Минимум 2 GB RAM
- Root доступ
- Интернет соединение

### Установка

```bash
# Вариант 1: Автоматическая установка (рекомендуется)
curl -sSL https://your-domain.com/install.sh | sudo bash

# Вариант 2: Ручная установка
# См.: apps/telegram-bot/DEPLOYMENT.md
```

Установщик запросит:
- Telegram Bot Token (получите у @BotFather)
- Ваш Telegram Chat ID (получите у @userinfobot)
- (Опционально) OpenAI API Key для транскрипции голосовых

---

## Что умеет?

### 1. Автоматизация Excel
```
Вы: "Создай Excel таблицу с данными квартальных продаж"
Бот: *генерирует таблицу с формулами и форматированием*
```

### 2. Генерация изображений
```
Вы: "Сгенерируй изображение футуристического города на закате"
Бот: *создает и отправляет AI-изображение*
```

### 3. Уведомления в Telegram
```
Claude: *отправляет вам готовый отчет или файл в Telegram*
```

### 4. Создание собственных skills
```
Вы: "Создай skill для работы с PDF документами"
Бот: *генерирует новый skill с функционалом PDF*
```

### 5. Подключение к вашим системам
```
Вы: "Подключи MCP сервер для моей PostgreSQL базы данных"
Бот: *настраивает интеграцию с вашей БД*
```

---

## Архитектура

```
/opt/ai-workspace/
├── apps/
│   └── telegram-bot/          # Telegram интеграция
│
├── .claude/
│   ├── skills/
│   │   ├── skill-creator/     # Создание новых skills
│   │   ├── xlsx/              # Операции с Excel
│   │   ├── nano-banana-image-gen/  # Генерация изображений
│   │   ├── telegram-notifier/ # Уведомления в Telegram
│   │   └── mcp-integration/   # Внешние интеграции
│   │
│   └── commands/              # Slash команды
│
├── commands/                  # Helper скрипты
├── .env                       # Конфигурация (создается при установке)
└── README.md                  # Этот файл
```

---

## Расширение функционала

AI Workspace спроектирован минималистичным и расширяемым. Нужны дополнительные возможности? У вас есть варианты:

### Добавить новый skill

Напишите боту:
```
"Создай skill для отправки email через SMTP"
"Создай skill для парсинга веб-страниц"
"Создай skill для работы с видео файлами"
```

`skill-creator` проведет вас через процесс создания функционала.

### Подключить внешние сервисы

Используйте skill `mcp-integration` для подключения:
- Баз данных (PostgreSQL, MySQL, MongoDB)
- API (REST, GraphQL)
- CRM систем (Salesforce, HubSpot, Bitrix24)
- Облачного хранилища (S3, Google Drive, Dropbox)

Напишите боту:
```
"Подключи MCP сервер для моей MySQL базы"
"Настрой интеграцию с Notion API"
```

---

## Примеры использования

### Базовые команды

```
/start               - Запустить бота и посмотреть доступные команды
/status              - Проверить статус бота и активную сессию
/stop                - Остановить текущее выполнение Claude
/restart             - Перезапустить бота
/help                - Показать доступные команды
```

### Общение с Claude

```
Вы: Какое сегодня число?
Бот: Сегодня [текущая дата]

Вы: Объясни квантовые вычисления простыми словами
Бот: [подробное объяснение]

Вы: Напиши Python скрипт для парсинга CSV файлов
Бот: [генерирует Python код с объяснениями]
```

### Создание таблиц

```
Вы: Создай Excel файл с 3 листами: Продажи, Расходы и Сводка.
    Добавь примеры данных и формулы для итогов.
Бот: *генерирует XLSX файл со всеми запрошенными листами*
```

### Генерация изображений

```
Вы: Сгенерируй профессиональный логотип для технологического стартапа "NexaCore"
Бот: *создает несколько вариантов логотипа*

Вы: Создай иллюстрацию робота, который учит детей
Бот: *генерирует кастомную иллюстрацию*
```

---

## Конфигурация

### Переменные окружения

Конфигурация хранится в файле `.env` (создается при установке):

```bash
# Обязательно
TELEGRAM_BOT_TOKEN=ваш_токен_бота
TELEGRAM_CHAT_ID=ваш_chat_id

# Опционально
OPENAI_API_KEY=sk-...  # Для транскрипции голосовых
BOT_HTTP_PORT=8081     # Порт по умолчанию
LOG_LEVEL=INFO         # Уровень логирования
```

См. [.env.example](./.env.example) для всех доступных опций.

### Claude CLI

Claude Code CLI установлен глобально и настроен для пользователя `claude-agent`.
Telegram бот запускает Claude сессии с правильными правами и управлением сессиями.

---

## Документация

- [apps/telegram-bot/README.md](./apps/telegram-bot/README.md) - Детали Telegram бота
- [apps/telegram-bot/DEPLOYMENT.md](./apps/telegram-bot/DEPLOYMENT.md) - Руководство по ручной установке
- [.claude/skills/](./. claude/skills/) - Документация skills
- [CLAUDE.md](./CLAUDE.md) - Инструкции для Claude Code

---

## Детали архитектуры

### Telegram Бот

Бот работает как Docker контейнер и служит мостом между вами и Claude Code:

1. Вы отправляете сообщение в Telegram
2. Бот получает сообщение и запускает сессию Claude Code
3. Claude обрабатывает запрос (используя skills при необходимости)
4. Бот отправляет ответ обратно в Telegram

**Безопасность:** Бот отвечает только на ваш Chat ID (настроенный при установке).

### Система Skills

Skills — это автономные модули, расширяющие возможности Claude:

- **Skill Creator** — мета-skill для создания новых skills
- **XLSX** — операции с Excel файлами (создание, чтение, изменение)
- **Image Generation** — AI генерация изображений через Gemini
- **Telegram Notifier** — отправка уведомлений и файлов
- **MCP Integration** — подключение внешних сервисов через MCP протокол

Каждый skill содержит:
- `SKILL.md` - Документация и инструкции для Claude
- Файлы реализации (Python, JavaScript и т.д.)
- Конфигурация и зависимости

### Как это работает

```
Сообщение в Telegram
    ↓
Бот (Python/aiogram)
    ↓
Claude Code Сессия (от имени claude-agent)
    ↓
Skills (при необходимости)
    ↓
Ответ → Telegram
```

---

## Управление

### Проверка статуса

```bash
# Проверить работает ли бот
docker ps | grep telegram-bot

# Посмотреть логи
docker logs -f ai-workspace-telegram-bot

# Health check
curl http://localhost:8081/health
```

### Перезапуск бота

```bash
cd /opt/ai-workspace/apps/telegram-bot
docker-compose restart
```

### Обновление конфигурации

```bash
# Редактировать переменные окружения
nano /opt/ai-workspace/.env

# Перезапустить для применения изменений
docker-compose restart
```

---

## Решение проблем

### Бот не отвечает

1. Проверьте что бот запущен: `docker ps | grep telegram-bot`
2. Посмотрите логи: `docker logs ai-workspace-telegram-bot`
3. Проверьте токен в `.env`
4. Перезапустите: `docker-compose restart`

### Claude сессии не работают

1. Проверьте Claude CLI установлен: `claude --version`
2. Проверьте существует ли claude-agent: `id claude-agent`
3. Проверьте права на Docker socket
4. Посмотрите логи: `docker logs ai-workspace-telegram-bot`

### Голосовые не транскрибируются

Транскрипция голосовых требует OpenAI API:
1. Получите API ключ на https://platform.openai.com/api-keys
2. Добавьте в `.env`: `OPENAI_API_KEY=sk-...`
3. Перезапустите бота

---

## Безопасность

- Бот отвечает только настроенному `TELEGRAM_CHAT_ID`
- HTTP API доступен только локально (127.0.0.1)
- Секреты хранятся в `.env` (не коммитится в git)
- Claude сессии запускаются от `claude-agent` (не от root)
- Docker обеспечивает изоляцию процесса бота

**Важно:** Держите ваш `.env` файл в безопасности и никогда не коммитьте его в систему контроля версий.

---

## Системные требования

### Минимальные

- CPU: 2 ядра
- RAM: 2 GB
- Диск: 10 GB свободного места
- ОС: Ubuntu 22.04+ / Debian 11+

### Рекомендуемые

- CPU: 4 ядра
- RAM: 4 GB
- Диск: 20 GB свободного места (SSD)
- ОС: Ubuntu 24.04 LTS

---

## Стоимость

### Что включено

- Программное обеспечение AI Workspace (разовая покупка или подписка)
- Telegram бот
- Базовые skills
- Документация и поддержка

### Что оплачивается отдельно

- **Claude API** — платите Anthropic напрямую ($20/месяц за Claude Pro или pay-as-you-go)
- **VPS хостинг** — арендуйте свой сервер ($5-20/месяц обычно)
- **OpenAI API** — опционально, только для транскрипции голосовых ($0.006/минуту)

---

## Поддержка

- **Email:** support@your-domain.com
- **Документация:** https://docs.your-domain.com
- **Telegram сообщество:** @your_community_group
- **GitHub Issues:** (если применимо)

---

## Лицензия

Коммерческая лицензия. См. [LICENSE](./LICENSE) для деталей.

---

## Благодарности

Создано с использованием:
- [Claude Code](https://claude.com/code) от Anthropic
- [aiogram](https://docs.aiogram.dev/) - фреймворк для Telegram ботов
- [Docker](https://www.docker.com/) - контейнеризация
- [Node.js](https://nodejs.org/) - среда выполнения для Claude CLI

---

## История изменений

### v1.0.0 (2026-01-XX)
- Первый релиз
- Интеграция с Telegram ботом
- 5 базовых skills (Excel, изображения, Telegram, создание skills, MCP)
- Автоматический установщик
- Документация

---

**Сделано с ❤️ для энтузиастов AI**

Начните сегодня и превратите свой сервер в мощного AI помощника!
