# üöÄ –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ Telegram –±–æ—Ç–∞

## –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ –±–æ—Ç–∞ (5 –º–∏–Ω—É—Ç)

1. **–û—Ç–∫—Ä–æ–π Telegram** –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ –∏–ª–∏ –≤ –¥–µ—Å–∫—Ç–æ–ø–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏

2. **–ù–∞–π–¥–∏ @BotFather** - –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ –±–æ—Ç–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –±–æ—Ç–æ–≤
   - –í –ø–æ–∏—Å–∫–µ –≤–≤–µ–¥–∏: `@BotFather`
   - –û—Ç–∫—Ä–æ–π —á–∞—Ç

3. **–°–æ–∑–¥–∞–π –Ω–æ–≤–æ–≥–æ –±–æ—Ç–∞**
   ```
   –û—Ç–ø—Ä–∞–≤—å: /newbot
   ```

4. **–ù–∞–∑–æ–≤–∏ –±–æ—Ç–∞** (display name)
   ```
   –ü—Ä–∏–º–µ—Ä: My AI Workspace Bot
   ```

5. **–ü—Ä–∏–¥—É–º–∞–π username** (–¥–æ–ª–∂–µ–Ω –∑–∞–∫–∞–Ω—á–∏–≤–∞—Ç—å—Å—è –Ω–∞ 'bot')
   ```
   –ü—Ä–∏–º–µ—Ä: my_workspace_bot
   ```

6. **–°–∫–æ–ø–∏—Ä—É–π —Ç–æ–∫–µ–Ω**
   BotFather –æ—Ç–ø—Ä–∞–≤–∏—Ç —Ç–µ–±–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤–∏–¥–∞:
   ```
   Done! Congratulations on your new bot...
   Use this token to access the HTTP API:
   1234567890:ABCdefGHIjklMNOpqrsTUVwxyz
   ```

   **‚ùó –°–û–•–†–ê–ù–ò –≠–¢–û–¢ –¢–û–ö–ï–ù - –æ–Ω –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –≤ —Å–ª–µ–¥—É—é—â–µ–º —à–∞–≥–µ!**

---

## –®–∞–≥ 2: –£–∑–Ω–∞–π —Å–≤–æ–π chat_id (2 –º–∏–Ω—É—Ç—ã)

### –í–∞—Ä–∏–∞–Ω—Ç A - –ß–µ—Ä–µ–∑ @userinfobot (–ø—Ä–æ—â–µ)

1. –ù–∞–π–¥–∏ –≤ Telegram: `@userinfobot`
2. –û—Ç–ø—Ä–∞–≤—å `/start`
3. –ë–æ—Ç –ø—Ä–∏—à–ª–µ—Ç —Ç–≤–æ–π ID, –Ω–∞–ø—Ä–∏–º–µ—Ä: `123456789`
4. –°–∫–æ–ø–∏—Ä—É–π —ç—Ç–æ —á–∏—Å–ª–æ

### –í–∞—Ä–∏–∞–Ω—Ç B - –ß–µ—Ä–µ–∑ Telegram API

1. –ù–∞–ø–∏—à–∏ **–ª—é–±–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ** —Å–≤–æ–µ–º—É –Ω–æ–≤–æ–º—É –±–æ—Ç—É (–Ω–∞–ø—Ä–∏–º–µ—Ä: "hello")
2. –û—Ç–∫—Ä–æ–π –≤ –±—Ä–∞—É–∑–µ—Ä–µ (–ø–æ–¥—Å—Ç–∞–≤—å —Å–≤–æ–π —Ç–æ–∫–µ–Ω):
   ```
   https://api.telegram.org/bot<–¢–£–¢_–¢–í–û–ô_–¢–û–ö–ï–ù>/getUpdates
   ```
3. –ù–∞–π–¥–∏ –≤ JSON –æ—Ç–≤–µ—Ç–µ —Å—Ç—Ä–æ–∫—É:
   ```json
   "chat":{"id":123456789, ...}
   ```
4. –°–∫–æ–ø–∏—Ä—É–π —á–∏—Å–ª–æ –ø–æ—Å–ª–µ `"id":`

---

## –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é (1 –º–∏–Ω—É—Ç–∞)

1. **–û—Ç–∫—Ä–æ–π —Ñ–∞–π–ª** `/opt/ai-workspace/.env`

2. **–†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π –∏ –∑–∞–ø–æ–ª–Ω–∏** —Å—Ç—Ä–æ–∫–∏:
   ```bash
   # –ë—ã–ª–æ:
   # TELEGRAM_BOT_TOKEN=your_bot_token_here
   # TELEGRAM_CHAT_ID=your_chat_id_here

   # –°—Ç–∞–ª–æ (–ø–æ–¥—Å—Ç–∞–≤—å —Å–≤–æ–∏ –∑–Ω–∞—á–µ–Ω–∏—è):
   TELEGRAM_BOT_TOKEN=1234567890:ABCdefGHIjklMNOpqrsTUVwxyz
   TELEGRAM_CHAT_ID=123456789
   ```

3. **–°–æ—Ö—Ä–∞–Ω–∏ —Ñ–∞–π–ª** (Ctrl+S –∏–ª–∏ :wq –≤ vim)

---

## –®–∞–≥ 4: –ó–∞–ø—É—Å—Ç–∏ –±–æ—Ç–∞ (1 –º–∏–Ω—É—Ç–∞)

```bash
# –ü–µ—Ä–µ–π–¥–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –±–æ—Ç–∞
cd /opt/ai-workspace/apps/telegram-bot

# –ó–∞–ø—É—Å—Ç–∏ —á–µ—Ä–µ–∑ Docker Compose
docker-compose up -d

# –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—Å—Ç–∏–ª—Å—è
docker ps | grep telegram-bot
```

–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:
```
ai-workspace-telegram-bot   Up X seconds   0.0.0.0:8080->8080/tcp
```

---

## –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã (2 –º–∏–Ω—É—Ç—ã)

### 1. –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏

```bash
docker logs -f ai-workspace-telegram-bot
```

–î–æ–ª–∂–µ–Ω —É–≤–∏–¥–µ—Ç—å:
```
üöÄ –ó–∞–ø—É—Å–∫ Telegram –±–æ—Ç–∞...
–†–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–π chat_id: 123456789
HTTP API –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 8080
‚úÖ –ë–æ—Ç –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ
```

### 2. –ü—Ä–æ–≤–µ—Ä—å health endpoint

```bash
curl http://localhost:8081/health
```

–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç:
```json
{"status":"ok","uptime":"2025-11-02T...","messages_count":0}
```

### 3. –ù–∞–ø–∏—à–∏ –±–æ—Ç—É –≤ Telegram

1. –ù–∞–π–¥–∏ —Å–≤–æ–µ–≥–æ –±–æ—Ç–∞ –≤ Telegram (–ø–æ username)
2. –û—Ç–ø—Ä–∞–≤—å `/start`
3. –ë–æ—Ç –¥–æ–ª–∂–µ–Ω –æ—Ç–≤–µ—Ç–∏—Ç—å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º

### 4. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π –æ—Ç–ø—Ä–∞–≤–∫—É –∏–∑ Claude

```bash
/opt/ai-workspace/commands/tg-send.sh "–¢–µ—Å—Ç –∏–∑ –∫–æ–Ω—Å–æ–ª–∏!"
```

–¢—ã –¥–æ–ª–∂–µ–Ω –ø–æ–ª—É—á–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ Telegram ‚úÖ

---

## üéâ –ì–æ—Ç–æ–≤–æ! –ë–æ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω

–¢–µ–ø–µ—Ä—å —Ç—ã –º–æ–∂–µ—à—å:

‚úÖ **–ü–∏—Å–∞—Ç—å –±–æ—Ç—É** - –æ–Ω –ª–æ–≥–∏—Ä—É–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è
‚úÖ **–ü–æ–ª—É—á–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** - Claude –º–æ–∂–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Ç–µ–±–µ —Å–æ–æ–±—â–µ–Ω–∏—è
‚úÖ **–û—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Ñ–∞–π–ª—ã** - –æ—Ç—á–µ—Ç—ã, –≥—Ä–∞—Ñ–∏–∫–∏, —Ç–∞–±–ª–∏—Ü—ã

---

## üìã –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–æ—Ç–∞
docker-compose down

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞
docker-compose restart

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏
docker logs -f ai-workspace-telegram-bot

# –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –∫–æ–¥–∞
docker-compose up -d --build

# –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ
/opt/ai-workspace/commands/tg-send.sh "Hello!"

# –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ñ–∞–π–ª
/opt/ai-workspace/commands/tg-send.sh --file /path/to/file.pdf "–û—Ç—á—ë—Ç"
```

---

## üêõ –ü—Ä–æ–±–ª–µ–º—ã?

### –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç

1. –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏: `docker logs ai-workspace-telegram-bot`
2. –ü—Ä–æ–≤–µ—Ä—å —Ç–æ–∫–µ–Ω –≤ `.env`
3. –£–±–µ–¥–∏—Å—å, —á—Ç–æ —Ä–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–ª —Å—Ç—Ä–æ–∫–∏ –≤ `.env`

### HTTP API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω

1. –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—â–µ–Ω: `docker ps`
2. –ü—Ä–æ–≤–µ—Ä—å –ø–æ—Ä—Ç: `ss -tlnp | grep 8081` (–∏–ª–∏ `lsof -i :8081`)
3. –ü—Ä–æ–≤–µ—Ä—å health: `curl http://localhost:8081/health`

### –û—à–∏–±–∫–∞ "Unauthorized"

- –¢–æ–∫–µ–Ω –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∏–ª–∏ –Ω–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω
- –ü–æ–ø—Ä–æ–±—É–π —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–≥–æ –±–æ—Ç–∞

### –ë–æ—Ç –ø–æ–ª—É—á–∞–µ—Ç, –Ω–æ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç

- –ü—Ä–æ–≤–µ—Ä—å `TELEGRAM_CHAT_ID` –≤ `.env`
- –£–±–µ–¥–∏—Å—å, —á—Ç–æ —ç—Ç–æ —á–∏—Å–ª–æ, –∞ –Ω–µ —Å—Ç—Ä–æ–∫–∞

---

## üìû –ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å?

–ü—Ä–æ—á–∏—Ç–∞–π –ø–æ–ª–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é: `/opt/ai-workspace/apps/telegram-bot/README.md`
